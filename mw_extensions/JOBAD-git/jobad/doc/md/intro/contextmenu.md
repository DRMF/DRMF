# The Context Menu
The Context menu is a way to provide context menu items for modules. It exists in two versions: 

* the standard right click context menu. It is interally generated by jQuery UI. 
* a radial icon menu which looks nicer however only has standard submenus. 

It is configurable by code and by user which context menu to use. 

Context menu entries can be provided by modules. They simply have to return a specific object from the `contextMenuEntries` event: 

```js
var myModule = {
    //other stuff here
    'contextMenuEntries': function(target, JOBADInstance){
        return {
            "Test Item": function(){
                alert("You clicked: 'Test Item'"); 
            }
        }
    }
};
```

You can see that the syntax for returing a menu item is: 
```js
return {
    'name for item': callback
}
```

You can also provide submenus by replacing the callback with another object: 

```js
return {
    'submenu': {
        'item in submenu': callback,
        'another item': another_callback
    }
}
```

If you want to provide an icon, you can replace the callback by an array of `[callback, 'icon_name']`: 

```js
return {
    'Entry with icon': [function(){alert("I have a warning icon. ");}, 'warning']
}
```

Alternatively, instead of specefing JSON-style objects, you can also just use arrays: 

```js
return [
   ['name', callback_or_submenu, 'icon'], 
   ['another entry', another_callback] //icon can be omitted
]
```

To specify an icon you should use an image in a popular format. You can just use its url as an icon. Note that this should not be a relative URL, but it should be some publically accessible image. Alternatively you can use a [Data URI scheme](https://en.wikipedia.org/wiki/Data_URI_scheme). To make things simpler, you can also register an icon with JOBAD.resources to make it even simpler to include you custom icon. This is best done in the gloablinit event: 

```js
var myModule = {
    //other stuff here
    "globalinit": function(){
        JOBAD.resources.provide("icon", "custom.icon", "http://path/to/icon/file"); //provide custom.icon
        //or for multiple icons: 
        JOBAD.resources.provide("icon", {
            "custom.red_dot": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==", 
            "custom.something": "http://example.com/example-icon.png"
        });
    },
    'contextMenuEntries': function(target, JOBADInstance){
        return {
            "Test Item": [function(){
                alert("You clicked: 'Test Item'"); 
            }, "custom.icon"],
            "Second Item": [function(){
                alert("You clicked: 'Second Item'"); 
            }, "custom.red_dot"]
        }
    }
};
```

Note that it is recommend to use a custom namespace such as `author.*` for icons, so that the names remain unique globally.  

If the context menu is empty, the normal browser context menu is shown. To override the JOBAD Context Menu, hold the Ctrl-Key. This forces to show the normal context menu. 

You may also want to read: 

* [Sidebar](sidebar.md) - How does the sidebar work?
* [Folding](folding.md) - Folding the DOM
* [Config UI](config.md) - How can I configure JOBAD modules?